{% extends 'base/base.html' %}

{% block main %}
    <div class="container-fluid">
        <h4 class="text-center alert alert-danger"> FUNCTION BASED CRUD VIEW USING AJAX</h4>

        <div class="row">
            
            <div class="col-lg-6">
                <form action="" method="POST" novalidate>
                    {% csrf_token %}
                    {{form.as_p}}
                    <input id="btnsave" type="button" value="Save">
                </form>
            </div>

            <div class="col-lg-6">

                <table>
                    <thead>
                        <th>No.</th>
                        <th>Name</th>
                        <th>Email</th>
                        <th>Age</th>
                        <th>Actions</th>
                    </thead>

                    {% for user in users %}
                    
                        <tr>
                            <td>{{forloop.counter}})</td>
                            <td>{{user.name}}</td>
                            <td>{{user.email}}</td>
                            <td>{{user.age}}</td>
                            <td>
                                <a href="{% url 'crud:update' user.id %}">Edit</a>
                                <a href="{% url 'crud:delete' user.id %}">Delete</a>
                            </td>
                        </tr>   

                    {% endfor %}
                
                </table>

            </div>

        </div>

    </div>

{% endblock main %}